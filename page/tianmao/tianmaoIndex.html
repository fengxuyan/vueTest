<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <title>这是天猫儿</title>
    <link rel="stylesheet" href="../../src/css/lib/reset.css">
    <link rel="stylesheet" href="../../src/css/tianmao.css">
    <link rel="stylesheet" href="../../src/fonts/font-awesome-4.7.0/scss/font-awesome.css">
</head>
<body>
<div class="site-nav" id="site-nav">

    <div class="nav-content">
        <div class="g-left-nav">
            <ul class="item-leftNav" v-for="leftnav in leftNavs">
                <span v-if="leftnav.url == ''">{{leftnav.navName}}</span>
                <a v-if="leftnav.url != ''" href="leftnav.url">{{leftnav.navName}}</a>
            </ul>
        </div>
        <div class="g-right-nav">
            <ul class="item-rightNav" v-for="(rightnav,index) in rightNavs" v-on:mouseover="addActive($event,index)"
                v-on:mouseout="removeActive($event,index)">

<!--{{rightnav.personaLists}}-->





                <!--循环data 动态拼接变量  利用methods方法-->
                <i class="fontCon fa " :class="buildCon(rightnav)" aria-hidden="true"></i>

                <a href="#">{{rightnav.navName}}</a>

                <!--"我的" 二级栏目-->
                <transition name="fade">

                    <ul class="personal_dropmenu" v-if="index==0 && showPer=='true' && rightnav.personaLists"   ><li v-for="(child) in rightnav.personaLists"><a href="child.url">{{child.name}}</a></li></ul>

                </transition>


                <!--"收藏夹" 二级栏目-->
                <transition name="fade">

                    <ul class="personal_dropmenu" v-if="index==2 && showFav=='true' && rightnav.favLists"   ><li v-for="(child) in rightnav.favLists"><a href="child.url">{{child.name}}</a></li></ul>

                </transition>



                <span v-if="rightnav.dropMenu == 'true'" class="dropmenu-arrow">
                      <i></i>
                </span>
                <span v-if="index==2">|</span>

            </ul>
        </div>
    </div>
</div>

<div class="header">
    <div class="headerLayout">
        <div class="headerCon">
            <span class="mallLogo"></span>
        </div>
        <div class="mallSearch"></div>
    </div>
</div>
<div class="content"></div>

<script src="../../src/js/lib/rem.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script>

<script>
    var siteNav = new Vue({
        el: '#site-nav',
        data: {
            leftNavs: [{navName: '嗨', url: ''}, {navName: '请登录', url: 'login'}, {navName: '免费注册', url: 'register'}],
            rightNavs: [
                {navName: '我的', dropMenu: 'true', personaLists:[{name:'我的1',url:'#'},{name:'我的2',url:'#'}]},
                {navName: '购物车', dropMenu: 'false'},
                {navName: '收藏夹', dropMenu: 'true', faCon: 'fa-shopping-cart',favLists:[{name:'收藏的宝贝',url:'#'},{name:'收藏的店铺',url:'#'}]},
                {navName: '手机版', dropMenu: 'false', faCon: 'fa-mobile fa-lg'},
                {navName: '其他网站', dropMenu: 'true'},
                {navName: '商家支持', dropMenu: 'false'},
                {navName: '网站导航', dropMenu: 'true', faCon: 'fa-list'}],
            showFav: 'false',
            showPer: 'false',
            isActive: 'true'
        },
        methods: {
            addActive: function ($event,index) {
                // console.log(index);
                // console.log($event.currentTarget);
                // console.log($event.currentTarget.lastElementChild);
                // $event.currentTarget.className='rote'

                if(0 == index){
                    siteNav.showPer='true'
                }else if(2 == index){
                    siteNav.showFav='true'

                }
                // siteNav.show='true'



            },
            removeActive: function ($event) {
                siteNav.showPer='false'
                siteNav.showFav='false'
                // $event.currentTarget.className = "rote"
            },
            buildCon: function (rightnav) {
                return rightnav.faCon;
            }
        }
    })
</script>
</body>
</html>